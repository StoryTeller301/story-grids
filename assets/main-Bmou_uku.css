:root{--spacing-xs: 4px;--spacing-sm: 8px;--spacing-md: 12px;--spacing-lg: 20px;--spacing-xl: 32px;--border-radius-sm: 6px;--border-radius-md: 10px;--border-radius-lg: 12px;--transition-normal: .2s ease;--shadow-sm: 0 1px 3px rgba(0, 0, 0, .2);--shadow-md: 0 2px 8px rgba(0, 0, 0, .2);--shadow-lg: 0 4px 20px rgba(0, 0, 0, .3);--card-bg: var(--surface-color);--input-bg: var(--surface-color-light);--accent-color: #4285f4;--text-primary: var(--text-color);--text-secondary: var(--text-color-secondary);--text-on-accent: white;--border-color-focus: var(--accent-color)}.app{min-height:100vh;display:flex;flex-direction:column}.app-header{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-md) var(--spacing-lg);background-color:var(--surface-color);border-bottom:1px solid var(--border-color)}.app-layout{flex:1;display:flex;flex-direction:column}.app-main{flex:1;padding:var(--spacing-lg);max-width:1400px;margin:0 auto;width:100%}.app-footer{padding:var(--spacing-md) var(--spacing-lg);background-color:var(--surface-color);border-top:1px solid var(--border-color);text-align:center;font-size:.9rem;color:var(--text-secondary)}.mode-selector{display:flex;gap:var(--spacing-md);margin-bottom:var(--spacing-lg);flex-wrap:wrap}.mode-button{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-sm) var(--spacing-md);background-color:var(--card-bg);border:1px solid var(--border-color);border-radius:var(--border-radius-md);color:var(--text-primary);font-weight:500;cursor:pointer;transition:all var(--transition-normal)}.mode-button:hover{background:linear-gradient(to right,#4d7cfe1a,#00d9881a);transform:translateY(-2px)}.mode-button.active{background-color:var(--accent-color);color:var(--text-on-accent);border-color:var(--accent-color)}.mode-button svg{width:18px;height:18px}.logo-container{display:flex;align-items:center;gap:var(--spacing-sm)}.app-logo{width:32px;height:32px}.app-title{font-size:1.5rem;font-weight:700;color:var(--text-primary);margin:0}.header-controls{display:flex;align-items:center;gap:var(--spacing-md)}.theme-toggle{background:none;border:none;font-size:1.2rem;cursor:pointer;padding:var(--spacing-xs);border-radius:50%;transition:all var(--transition-normal)}.theme-toggle:hover{background-color:#ffffff1a}.action-button{padding:var(--spacing-sm) var(--spacing-md);border:none;border-radius:var(--border-radius-md);font-weight:500;cursor:pointer;transition:all var(--transition-normal)}.action-button:hover{transform:translateY(-2px)}.action-button.save{background-color:#4285f4;color:#fff}.action-button.save:hover{background-color:#3a6ae0}.action-button.export{background-color:#9747ff;color:#fff}.action-button.export:hover{background-color:#8a3bff}.action-button.reset{background-color:#ff5d7e;color:#fff}.action-button.reset:hover{background-color:#e54d6b}@media (max-width: 768px){.app-header{flex-direction:column;gap:var(--spacing-md);padding:var(--spacing-md)}.app-main{padding:var(--spacing-md)}.mode-selector{justify-content:center}}.narrative-grid-editor{max-width:100%;margin:0 auto;padding:20px;color:var(--text-color)}.grid-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;flex-wrap:wrap;gap:16px}.grid-title-section{display:flex;flex-direction:column;gap:12px;flex:1}.grid-input-group{display:flex;align-items:center;gap:12px;margin-bottom:8px}.grid-input-group label{font-weight:500;min-width:100px;color:var(--text-color)}.grid-title-input,.grid-author-input{padding:10px 12px;background-color:var(--surface-color-light);border:none;border-radius:8px;color:var(--text-color);font-size:14px;width:300px;transition:box-shadow .2s ease}.grid-title-input:focus,.grid-author-input:focus{outline:none;box-shadow:0 0 0 2px #4285f466}.grid-action-buttons{display:flex;gap:10px;flex-wrap:wrap}.grid-action-button{padding:10px 16px;border:none;border-radius:10px;font-weight:500;cursor:pointer;transition:all .2s ease;font-size:14px}.grid-action-button:hover{transform:translateY(-2px)}.grid-action-button.save{background-color:#4285f4;color:#fff}.grid-action-button.save:hover{background-color:#3a6ae0}.grid-action-button.load,.grid-action-button.import{background-color:var(--surface-color-light);color:var(--text-color)}.grid-action-button.export{background-color:#9747ff;color:#fff}.grid-action-button.export:hover{background-color:#8a3bff}.grid-action-button.reset{background-color:#ff5d7e;color:#fff}.grid-action-button.reset:hover{background-color:#e54d6b}.grid-action-button.columns{background-color:var(--surface-color-light);color:var(--text-color)}.narrative-grid-container{overflow-x:auto;margin-bottom:20px;border-radius:12px;background-color:var(--surface-color);box-shadow:0 2px 8px #0003}.narrative-grid{width:100%;border-collapse:collapse;min-width:800px}.narrative-grid th{background-color:var(--surface-color);color:var(--text-color);font-weight:600;text-align:left;padding:16px;border-bottom:1px solid var(--border-color);position:sticky;top:0;z-index:10}.narrative-grid th:first-child{width:80px;text-align:center}.narrative-grid td{padding:12px 16px;border-bottom:1px solid var(--border-color);vertical-align:top}.narrative-grid tr:last-child td{border-bottom:none}.narrative-grid tr:hover{background-color:#4285f40d}.grid-cell-content{min-height:80px;width:100%;padding:8px;background-color:transparent;border:none;color:var(--text-color);font-size:14px;resize:vertical;transition:background-color .2s ease}.grid-cell-content:focus{outline:none;background-color:#4285f41a}.grid-header-cell{min-width:200px;position:relative}.grid-header-content{width:100%;padding:8px;background-color:transparent;border:none;color:var(--text-color);font-weight:600;font-size:14px;text-align:left;cursor:pointer;transition:background-color .2s ease}.grid-header-content:focus{outline:none;background-color:#4285f41a}.grid-row-actions{display:flex;justify-content:center;align-items:center;gap:8px}.grid-row-handle{cursor:grab;color:var(--text-color-secondary);font-size:16px;transition:color .2s ease}.grid-row-handle:hover{color:var(--text-color)}.grid-row-delete{background:none;border:none;color:#ff5d7e;cursor:pointer;font-size:16px;padding:4px;transition:all .2s ease}.grid-row-delete:hover{color:#e54d6b;transform:scale(1.1)}.add-row-button{display:flex;align-items:center;justify-content:center;gap:8px;padding:12px 18px;background-color:#4285f4;color:#fff;border:none;border-radius:10px;cursor:pointer;font-weight:500;margin-top:16px;transition:all .2s ease}.add-row-button:hover{transform:translateY(-2px);background-color:#3a6ae0}.grid-row-dragging{opacity:.5;background-color:#4285f41a}.column-modal{position:fixed;top:0;left:0;right:0;bottom:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.column-modal-content{background-color:var(--surface-color);border-radius:12px;padding:24px;width:90%;max-width:600px;max-height:80vh;overflow-y:auto;box-shadow:0 4px 20px #0000004d}.column-modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.column-modal-title{font-size:20px;font-weight:600;color:var(--text-color)}.column-modal-close{background:none;border:none;color:var(--text-color-secondary);font-size:24px;cursor:pointer;transition:color .2s ease}.column-modal-close:hover{color:var(--text-color)}.column-list{display:flex;flex-direction:column;gap:12px;margin-bottom:20px}.column-item{display:flex;align-items:center;gap:12px;padding:12px;background-color:var(--surface-color-light);border-radius:8px;transition:all .2s ease}.column-item:hover{transform:translateY(-2px)}.column-handle{cursor:grab;color:var(--text-color-secondary)}.column-input{flex:1;padding:8px 12px;background-color:var(--surface-color);border:none;border-radius:6px;color:var(--text-color);font-size:14px}.column-input:focus{outline:none;box-shadow:0 0 0 2px #4285f466}.column-delete{background:none;border:none;color:#ff5d7e;cursor:pointer;font-size:16px;transition:all .2s ease}.column-delete:hover{color:#e54d6b;transform:scale(1.1)}.add-column-button{display:flex;align-items:center;justify-content:center;gap:8px;width:100%;padding:12px;background-color:#4285f4;color:#fff;border:none;border-radius:8px;cursor:pointer;font-weight:500;margin-bottom:20px;transition:all .2s ease}.add-column-button:hover{background-color:#3a6ae0}.column-modal-actions{display:flex;justify-content:flex-end;gap:12px}.column-modal-button{padding:10px 16px;border:none;border-radius:8px;font-weight:500;cursor:pointer;transition:all .2s ease}.column-modal-button.cancel{background-color:var(--surface-color-light);color:var(--text-color)}.column-modal-button.save{background-color:#4285f4;color:#fff}.column-modal-button:hover{transform:translateY(-2px)}@media (max-width: 768px){.grid-header{flex-direction:column;align-items:flex-start}.grid-title-input,.grid-author-input{width:100%}.grid-action-buttons{width:100%;justify-content:space-between}}.snowflake-method-container{max-width:1200px;margin:0 auto;padding:20px;color:var(--text-color)}.snowflake-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.snowflake-header h2{margin:0;font-size:24px;font-weight:600}.snowflake-actions{display:flex;gap:10px}.snowflake-button{padding:8px 16px;border:none;border-radius:10px;cursor:pointer;font-weight:500;transition:all .2s ease}.snowflake-button:hover{transform:translateY(-2px)}.snowflake-button.save{background-color:#4285f4;color:#fff}.snowflake-button.save:hover{background-color:#3a6ae0}.snowflake-button.export{background-color:#9747ff;color:#fff}.snowflake-button.export:hover{background-color:#8a3bff}.snowflake-button.reset{background-color:#ff5d7e;color:#fff}.snowflake-button.reset:hover{background-color:#e54d6b}.snowflake-description{margin-bottom:20px;font-size:14px;line-height:1.5}.progress-bar-container{height:8px;background-color:#333;border-radius:4px;margin-bottom:20px;overflow:hidden}.progress-bar{height:100%;background-color:#4285f4;transition:width .3s ease}.breadcrumb-nav{display:flex;flex-wrap:wrap;margin-bottom:20px;align-items:center;padding:10px;background-color:var(--surface-color);border-radius:10px;border:1px solid var(--border-color)}.breadcrumb-item{padding:6px 10px;border-radius:8px;cursor:pointer;font-size:14px;transition:all .2s ease}.breadcrumb-item:hover{background-color:#4285f41a}.breadcrumb-item.active{background-color:#4285f433;font-weight:500;color:var(--primary-color)}.breadcrumb-separator{margin:0 5px;color:#666}.snowflake-content{background-color:var(--surface-color);border-radius:12px;padding:24px;margin-bottom:24px;box-shadow:0 2px 8px #0003}.step-title{display:flex;align-items:center;margin-top:0;margin-bottom:15px;font-size:18px;font-weight:500}.step-number{display:flex;align-items:center;justify-content:center;width:32px;height:32px;background-color:#4285f4;color:#fff;border-radius:50%;margin-right:12px;font-size:16px;font-weight:500}.example-box{background-color:var(--surface-color-light);border-left:4px solid #4285f4;padding:12px 16px;margin-bottom:16px;font-size:13px;border-radius:0 8px 8px 0}.example-box p{margin:0}.example-box strong{color:#4285f4}.field-container{margin-bottom:18px}.field-container label{display:block;margin-bottom:8px;font-weight:500;color:#4285f4;font-size:14px}.snowflake-textarea{width:100%;min-height:80px;padding:12px;border:none;border-radius:8px;background-color:var(--surface-color-light);color:var(--text-color);font-size:14px;resize:vertical;transition:box-shadow .2s ease}.snowflake-textarea:focus{outline:none;box-shadow:0 0 0 2px #4285f466}.snowflake-textarea.large{min-height:150px}.navigation-buttons{display:flex;justify-content:space-between;margin-top:24px}.nav-button{padding:10px 18px;background-color:#4285f4;color:#fff;border:none;border-radius:10px;cursor:pointer;font-weight:500;transition:all .2s ease;display:flex;align-items:center;gap:8px}.nav-button:hover{transform:translateY(-2px);background-color:#3a6ae0}.nav-button:disabled{background-color:#666;cursor:not-allowed;transform:none}.snowflake-footer{text-align:center;margin-top:30px;padding-top:15px;border-top:1px solid var(--border-color);font-size:12px;color:var(--text-color-secondary)}.character-management{display:flex;gap:24px;margin-top:20px}.character-list{width:30%;min-width:200px}.add-character-button{width:100%;padding:12px;background-color:#4285f4;color:#fff;border:none;border-radius:10px;cursor:pointer;font-weight:500;margin-bottom:12px;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:8px}.add-character-button:hover{transform:translateY(-2px);background-color:#3a6ae0}.character-tab{width:100%;padding:12px;background-color:var(--surface-color-light);border-radius:10px;margin-bottom:10px;cursor:pointer;transition:all .2s ease;box-shadow:0 1px 3px #0003}.character-tab:hover{transform:translateY(-2px)}.character-tab.active{background-color:#4285f4;color:#fff}.character-tab-content{display:flex;justify-content:space-between;align-items:center}.delete-character-button{background:none;border:none;color:#ff5d7e;font-size:18px;cursor:pointer;padding:0 5px;transition:all .2s ease}.delete-character-button:hover{color:#e54d6b;transform:scale(1.1)}.character-details{flex:1;background-color:var(--surface-color-light);border-radius:12px;padding:24px;box-shadow:0 2px 8px #0003}.character-details h4{margin-top:0;margin-bottom:18px;color:#4285f4;font-size:16px;font-weight:500}.character-field{margin-bottom:16px}.character-field label{display:block;margin-bottom:8px;font-weight:500;color:#4285f4;font-size:14px}.character-field input,.character-field textarea{width:100%;padding:12px;border:none;border-radius:8px;background-color:var(--surface-color);color:var(--text-color);font-size:14px;transition:box-shadow .2s ease}.character-field input:focus,.character-field textarea:focus{outline:none;box-shadow:0 0 0 2px #4285f466}.character-field textarea{min-height:80px;resize:vertical}.character-field.full-width textarea{min-height:300px}.add-scene-button{padding:12px 18px;background-color:#4285f4;color:#fff;border:none;border-radius:10px;cursor:pointer;font-weight:500;margin-bottom:20px;transition:all .2s ease;display:flex;align-items:center;gap:8px}.add-scene-button:hover{transform:translateY(-2px);background-color:#3a6ae0}.no-scenes-message{background-color:var(--surface-color-light);border-radius:10px;padding:24px;text-align:center;color:var(--text-color-secondary)}.scenes-list{display:flex;flex-direction:column;gap:16px}.scene-item{background-color:var(--surface-color-light);border-radius:12px;padding:20px;box-shadow:0 1px 3px #0003;transition:all .2s ease}.scene-item:hover{transform:translateY(-2px)}.scene-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.scene-header h4{margin:0;color:#4285f4;font-size:16px;font-weight:500}.delete-scene-button{background-color:#ff5d7e;color:#fff;border:none;border-radius:8px;padding:6px 12px;cursor:pointer;font-size:12px;transition:all .2s ease}.delete-scene-button:hover{background-color:#e54d6b;transform:translateY(-2px)}.scene-fields{display:grid;grid-template-columns:1fr 1fr;gap:16px}.scene-field{margin-bottom:12px}.scene-field label{display:block;margin-bottom:8px;font-weight:500;color:#4285f4;font-size:14px}.scene-field input,.scene-field textarea{width:100%;padding:12px;border:none;border-radius:8px;background-color:var(--surface-color);color:var(--text-color);font-size:14px;transition:box-shadow .2s ease}.scene-field input:focus,.scene-field textarea:focus{outline:none;box-shadow:0 0 0 2px #4285f466}.scene-field textarea{min-height:80px;resize:vertical}.congratulations-message{background-color:var(--surface-color-light);border-radius:12px;padding:24px;margin-top:24px;text-align:center;border-left:4px solid #34a853}.congratulations-message h4{color:#34a853;margin-top:0;font-size:18px;margin-bottom:12px}@media (max-width: 768px){.character-management{flex-direction:column}.character-list{width:100%}.scene-fields{grid-template-columns:1fr}.snowflake-header{flex-direction:column;align-items:flex-start;gap:16px}.snowflake-actions{width:100%;justify-content:space-between}}:root{--primary-color: #4285f4;--secondary-color: #34a853;--danger-color: #ea4335;--warning-color: #fbbc05;--background-color: #121212;--surface-color: #1e1e1e;--surface-color-light: #2a2a2a;--text-color: #ffffff;--text-color-secondary: #b0b0b0;--border-color: #333333;--shadow-color: rgba(0, 0, 0, .3);font-family:Inter,system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;color-scheme:dark;color:var(--text-color);background-color:var(--background-color);font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}[data-theme=light]{--background-color: #f5f5f5;--surface-color: #ffffff;--surface-color-light: #f0f0f0;--text-color: #333333;--text-color-secondary: #666666;--border-color: #dddddd;--shadow-color: rgba(0, 0, 0, .1);color-scheme:light}*{box-sizing:border-box;margin:0;padding:0}body{margin:0;min-width:320px;min-height:100vh}manus-content-root,.footer-btn,[data-manus-editor=true],[class*=manus-editor],[id*=manus-editor]{display:none!important;visibility:hidden!important;opacity:0!important;pointer-events:none!important;position:absolute!important;width:0!important;height:0!important;overflow:hidden!important}.auth-container{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:20px}.auth-box{background-color:var(--surface-color);border-radius:8px;padding:30px;width:100%;max-width:400px;box-shadow:0 4px 12px var(--shadow-color)}.centered-logo{display:flex;flex-direction:column;align-items:center;margin-bottom:30px}.passkey-form{display:flex;flex-direction:column;gap:15px}.passkey-input{padding:12px;border:1px solid var(--border-color);border-radius:4px;background-color:var(--surface-color-light);color:var(--text-color);font-size:16px;width:100%;height:45px}.passkey-form .action-button{padding:12px;height:45px;font-size:16px}
